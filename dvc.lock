schema: '2.0'
stages:
  transform:
    cmd: python src/transform.py data/mi intermediate/mi/transformed
    deps:
    - path: data/mi/raw
      md5: dabd477c561e34633711ba4d8ca6bba8.dir
      size: 46594384
      nfiles: 1
    - path: src/transform.py
      md5: 2ee718c7af74674a7b3975cc017413fe
      size: 1463
    params:
      params.yaml:
        transform.datasets.mi.shape: []
    outs:
    - path: intermediate/mi/transformed
      md5: 9f80ab059694ae8a36c6c8212a042a2e.dir
      size: 46592128
      nfiles: 1
  featurize:
    cmd: python src/featurization.py intermediate/mi/transformed data/mi/labels intermediate/mi/features
    deps:
    - path: data/mi/labels
      md5: 7917fdd99fbba8bf726b38d00b6e261c.dir
      size: 343
      nfiles: 1
    - path: intermediate/mi/transformed
      md5: 9f80ab059694ae8a36c6c8212a042a2e.dir
      size: 46592128
      nfiles: 1
    params:
      params.yaml:
        featurize.coefficient_number: 3
        featurize.level: 3
        featurize.threshold: 2.247924
        featurize.wavelet: haar
    outs:
    - path: intermediate/mi/features
      md5: a5f8da3a476c375dac214c38e5571a71.dir
      size: 34947456
      nfiles: 1
  train:
    cmd: python src/train.py intermediate/mi/features
    deps:
    - path: intermediate/mi/features
      md5: a5f8da3a476c375dac214c38e5571a71.dir
      size: 34947456
      nfiles: 1
    - path: src/train.py
      md5: 7257231dd33333d33545303ef4a96db7
      size: 1126
    params:
      params.yaml:
        train.split: 0.75
        train.state: 123
        train.svm_C: 1
        train.svm_degree: 3
        train.svm_kernel: poly
    outs:
    - path: model.pkl
      md5: a7e5af41fbb0399b1d3e0ddc7795aa02
      size: 1098161
  evaluate:
    cmd: python src/evaluate.py model.pkl intermediate/mi/features
    deps:
    - path: intermediate/mi/features
      md5: a5f8da3a476c375dac214c38e5571a71.dir
      size: 34947456
      nfiles: 1
    - path: model.pkl
      md5: a7e5af41fbb0399b1d3e0ddc7795aa02
      size: 1098161
    - path: src/evaluate.py
      md5: 8be1cd9de9b2c47d989d4060bc6cea12
      size: 1142
    params:
      params.yaml:
        train.split: 0.75
        train.state: 123
    outs:
    - path: evaluation/metrics.json
      md5: 4a5fec01701db2018938ceb089537914
      size: 71
    - path: evaluation/plots/metrics
      md5: 55375d592cafa42c4cb6e09e9e5cc264.dir
      size: 64
      nfiles: 2
    - path: evaluation/plots/sklearn/confusion_matrix.json
      md5: 34e81025842fba36592502bc871e7df0
      size: 5799
